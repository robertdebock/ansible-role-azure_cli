---
# Internal variables for azure_cli

# Map OS family to required packages for Azure CLI to run.
_azure_cli_required_packages:
  default:
    - python3-setuptools
  Alpine:
    - py3-setuptools
    - py3-pip

azure_cli_required_packages: "{{ _azure_cli_required_packages[ansible_os_family] | default(_azure_cli_required_packages['default']) }}"

# Map distribution release names to the codename supported by the Azure CLI APT repo.
# Microsoft does not publish for Debian testing/unstable (e.g. trixie, sid);
# map those to the latest supported stable release.
_azure_cli_apt_codename_map:
  default: {}
  Debian:
    trixie: bookworm
    sid: bookworm

azure_cli_apt_codename: "{{ _azure_cli_apt_codename_map[ansible_os_family][ansible_distribution_release] | default(ansible_distribution_release) }}"
